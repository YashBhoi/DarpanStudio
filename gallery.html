<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Darpan Studio: Gallery</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">



<!-- FAVICONS -->
<link rel="icon" type="image/x-icon" href="assets/favicon/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="assets/favicon/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="assets/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="48x48" href="assets/favicon/favicon-48x48.png">
<link rel="manifest" href="assets/favicon/manifest.webmanifest" crossOrigin="use-credentials">
<meta name="mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#171d1f">
<meta name="application-name" content="Darpan Studio">
<link rel="apple-touch-icon" sizes="180x180" href="assets/favicon/apple-touch-icon-180x180.png">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Darpan Studio">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css" rel="stylesheet">
<link rel="stylesheet" href="css/style.css">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #111;
  color: #fff;
}

/* ===========================
   FIRST STICKY BAR
=========================== */
.sticky-top-bar {
  position: sticky;
  top: 0;
  z-index: 50;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: #fff;
  padding: 10px 16px;
}

.sticky-left {
  display: flex;
  align-items: center;
}

.sticky-left img {
  height: 34px;
}

.sticky-right {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.sticky-right a {
  text-decoration: none;
  font-size: 13px;
  padding: 6px 14px;
  border-radius: 20px;
  background: #eee;
  color: #111;
  font-weight: 600;
}

.sticky-right a.active {
  background: #e50914;
  color: #fff;
}

/* ===========================
   SECOND STICKY BAR
=========================== */
.gallery-sticky-bar {
  position: sticky;
  top: 44px;
  z-index: 40;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: #000000b5;
  backdrop-filter: blur(10px);
  padding: 6px 16px;
}

.gallery-sticky-bar h2 {
  margin: 0;
  font-size: 14px;
  text-align: center;
  flex: 1;
}

/* BACK BUTTON */
.back-btn {
  display: flex;
  align-items: center;
  text-decoration: none;
  color: #fff;
  font-weight: bold;
  background: #e50914;
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 12px;
}

.back-btn .txt { margin-left: 6px; }

/* FILTER BUTTONS */
.filter-buttons {
  display: flex;
  gap: 8px;
}

.filter {
  padding: 5px 14px;
  border-radius: 20px;
  background: #222;
  color: #ccc;
  cursor: pointer;
}

.filter input { display: none; }

.filter.active {
  background: #e50914;
  color: #fff;
}

/* ===========================
   GALLERY
=========================== */
.gallery {
  column-count: 3;
  column-gap: 16px;
  padding: 16px;
}

.gallery a {
  break-inside: avoid;
  display: block;
  margin-bottom: 3px;
}

.gallery img,
.gallery video {
  width: 100%;
  border-radius: 16px;
}

/* ===========================
   FLOATING BUTTONS (CENTER)
=========================== */
.fab-container {
  position: fixed;
  top: 50%;
  right: 16px;
  transform: translateY(-50%);
  z-index: 999;
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.fab {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  border: none;
  background: rgba(0,0,0,0.7);
  color: #fff;
  font-size: 18px;
  cursor: pointer;
}

/* ===========================
   LANGUAGE POPUP
=========================== */
.lang-popup {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.lang-popup.active { display: flex; }

.lang-box {
  background: #fff;
  padding: 20px;
  border-radius: 12px;
  text-align: center;
}

.lang-box button {
  width: 100%;
  margin-top: 10px;
  padding: 10px;
  border: none;
  border-radius: 8px;
  background: #000;
  color: #fff;
  cursor: pointer;
}

/* HIDE GOOGLE BAR */
.goog-te-banner-frame,
.goog-te-balloon-frame { display: none !important; }
body { top: 0 !important; }

/* ===========================
   MOBILE RESPONSIVE
=========================== */
@media (max-width: 768px) {
  /* First bar smaller */

  .gallery {
    column-count: 2;
  }
  .gallery-sticky-bar{    position: sticky;
    top: 58px;
    z-index: 40;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: #000000b5;
    backdrop-filter: blur(10px);
    padding: 6px 16px;
    padding-bottom: 1px;
    padding-top: 12px;
}
  .sticky-left img { height: 20px; }
  .sticky-right { gap: 6px; margin-left: 16px;;}
  .sticky-right a { font-size: 10px; padding: 4px 10px; }

  /* Second bar: only arrow on mobile back */
  .back-btn .txt { display: none; }
  .gallery-sticky-bar h2 { font-size: 12px; }

  /* Filters smaller */
  .filter { font-size: 10px; padding: 4px 10px; }

}
</style>
</head>

<body>

<!-- FIRST STICKY BAR -->
<div class="sticky-top-bar">
  <div class="sticky-left">
    <a href="index.html#portfolio">
      <img id="siteLogo" src="assets/imgs/logo-en.png" alt="Darpan Studio">
    </a>
  </div>
  <div class="sticky-right" id="categoryMenu">
    <!-- Example Categories -->
    <a href="#" class="active">Weddings</a>
    <a href="#">Portraits</a>
    <a href="#">Events</a>
  </div>
</div>

<!-- SECOND STICKY BAR -->
<div class="gallery-sticky-bar">
  <a href="index.html#portfolio" class="back-btn">
    <span class="arrow">←</span>
    <span class="txt">Back</span>
  </a>
  <h2 id="galleryTitle">Gallery</h2>
  <div class="filter-buttons">
    <label class="filter active"><input type="radio" name="filter" value="all" checked> All</label>
    <label class="filter"><input type="radio" name="filter" value="photos"> Photos</label>
    <label class="filter"><input type="radio" name="filter" value="videos"> Videos</label>
  </div>
</div>

<!-- GALLERY -->
<div class="gallery" id="gallery"></div>

<!-- GLightbox -->
<script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>
<script src="js/gallery-page.js"></script>

<!-- FLOATING BUTTONS -->
<div class="fab-container">
  <button class="fab" id="scrollTopBtn"><i class="fas fa-arrow-up"></i></button>
  <button class="fab" id="shareBtn"><i class="fas fa-share-alt"></i></button>
  <button class="fab" id="langBtn"><i class="fas fa-language"></i></button>
</div>

<!-- LANGUAGE POPUP -->
<div class="lang-popup" id="langPopup">
  <div class="lang-box">
    <h4>Select Language</h4>
    <button data-lang="en">English</button>
    <button data-lang="gu">ગુજરાતી</button>
  </div>
</div>

<!-- GOOGLE TRANSLATE CONTAINER -->
<div id="google_translate_element" style="display:none;"></div>

<script>
// SCROLL TOP
document.getElementById("scrollTopBtn").onclick = () => window.scrollTo({ top: 0, behavior: "smooth" });

// SHARE BUTTON
document.getElementById("shareBtn").onclick = async () => {
  const url = location.href;
  if (navigator.share) await navigator.share({ title: "Darpan Studio", url });
  else { navigator.clipboard.writeText(url); alert("Link copied!"); }
};

// LANGUAGE POPUP
const langPopup = document.getElementById("langPopup");
document.getElementById("langBtn").onclick = () => langPopup.classList.add("active");
langPopup.onclick = e => { if(e.target === langPopup) langPopup.classList.remove("active"); };

// ============================
// LANGUAGE SWITCH ONE-CLICK
// ============================
function setLanguage(lang){
  localStorage.setItem("siteLang", lang);

  // Change Logo Immediately
  const logo = document.getElementById("siteLogo");
  if(logo) logo.src = lang === "gu" ? "assets/imgs/logo-gu.png" : "assets/imgs/logo-en.png";

  // Apply Google Translate ASAP
  let attempts=0;
  const maxAttempts=15;
  const applyTranslate = () => {
    const combo = document.querySelector(".goog-te-combo");
    if(combo){
      combo.value = lang;
      combo.dispatchEvent(new Event("change"));
      return;
    }
    attempts++;
    if(attempts<maxAttempts) setTimeout(applyTranslate,200);
  };
  applyTranslate();
}

// BUTTON EVENTS
document.querySelectorAll(".lang-box button").forEach(btn => {
  btn.onclick = () => { setLanguage(btn.dataset.lang); langPopup.classList.remove("active"); };
});

// RESTORE LANGUAGE ON PAGE LOAD
window.onload = () => {
  setTimeout(()=>{ setLanguage(localStorage.getItem("siteLang") || "en"); }, 1200);
};
</script>

<script>
function googleTranslateElementInit() {
  new google.translate.TranslateElement(
    { pageLanguage: 'en', includedLanguages:'en,gu', autoDisplay:false },
    'google_translate_element'
  );
}
</script>
<script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

</body>
</html>
